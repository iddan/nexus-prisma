<!DOCTYPE html><html><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if(!e)return localStorage.setItem('theme','light'),d.add('light');if("system"===e){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else d.add(e)}catch(e){}}()</script><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><title>nexus-prisma – Nextra</title><style>html{font-family:Inter,sans-serif}@supports(font-variation-settings:normal){html{font-family:'Inter var',sans-serif}}</style><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="Nextra: the next docs builder"/><meta name="og:title" content="Nextra: the next docs builder"/><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/12c3490c83f1099806e7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/12c3490c83f1099806e7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-6aa24242c38afc8913a0.js" defer=""></script><script src="/_next/static/chunks/framework-92300432a1172ef1338b.js" defer=""></script><script src="/_next/static/chunks/main-588261c74baf7142d208.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2fcc730ff92bd97ec44a.js" defer=""></script><script src="/_next/static/chunks/244-fb2dc9c4262a53f43079.js" defer=""></script><script src="/_next/static/chunks/pages/index-f9f1d40104eb30e3d942.js" defer=""></script><script src="/_next/static/7Zl3XOnegAo48TG9wz6ls/_buildManifest.js" defer=""></script><script src="/_next/static/7Zl3XOnegAo48TG9wz6ls/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="nextra-container main-container flex flex-col"><nav class="flex items-center bg-white z-20 fixed top-0 left-0 right-0 h-16 border-b border-gray-200 px-6 dark:bg-dark dark:border-gray-900"><div class="hidden md:block w-full flex items-center"><a class="no-underline text-current flex items-center hover:opacity-75 inline-block" href="/"><svg>...</svg><span>Next.js Static Site Generator</span></a></div><div class="nextra-search relative w-full md:w-64"><input type="search" class="appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:ring w-full" placeholder="Search (&quot;/&quot; to focus)"/></div><div class="mr-2"></div><a class="text-current p-2 cursor-pointer" tabindex="0"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"></svg></a><a class="text-current p-2" href="https://github.com/shuding/nextra" target="_blank"><svg height="24" viewBox="2 2 20 20" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z" fill="currentColor"></path></svg></a><button class="block md:hidden p-2"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div class="-mr-2"></div></nav><div class="flex flex-1 h-full"><aside class="h-screen bg-white dark:bg-dark flex-shrink-0 w-full md:w-64 md:block fixed md:sticky z-10 hidden" style="top:4rem;height:calc(100vh - 4rem)"><div class="sidebar border-gray-200 dark:border-gray-900 w-full p-4 pb-40 md:pb-16 h-full overflow-y-auto"><ul><li class="active"><a href="/">Index</a><ul><li><a href="#usage" class="active-anchor"><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Usage</span></span></a></li><li><a href="#roadmap" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Roadmap</span></span></a></li><li><a href="#architecture" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Architecture</span></span></a></li><li><a href="#features" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Features</span></span></a></li><li><a href="#recipes" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Recipes</span></span></a></li><li><a href="#notes" class=""><span class="flex text-sm"><span class="opacity-25">#</span><span class="mr-2"></span><span class="inline-block">Notes</span></span></a></li></ul></li></ul></div></aside><div id="reach-skip-nav" data-reach-skip-nav-content=""></div><article class="docs-container relative pt-20 pb-16 px-6 md:px-8 w-full max-w-full overflow-x-hidden"><main class="max-w-screen-md mx-auto"><p><strong>⚠️ Currently in early preview - <em>not to be used in Production unless you&#x27;re willing to live on the bleeding edge and give us feedback, which we would welcome!</em>.</strong> Follow progress <a target="_blank" href="https://github.com/graphql-nexus/nexus-plugin-prisma/issues/1039">here</a>.</p><h1>nexus-prisma</h1><p><a target="_blank" href="https://github.com/prisma/nexus-prisma/actions/workflows/trunk.yml"><img src="https://github.com/prisma/nexus-prisma/actions/workflows/trunk.yml/badge.svg" alt="trunk"/></a></p><p>Official Prisma plugin for Nexus.</p><ul><li><a href="#usage">Usage</a></li><li><a href="#roadmap">Roadmap</a></li><li><a href="#architecture">Architecture</a></li><li><a href="#features">Features</a><ul><li><a href="#type-safe-generated-library-code">Type-safe Generated Library Code</a></li><li><a href="#project-enums">Project Enums</a></li><li><a href="#project-scalars">Project Scalars</a></li><li><a href="#project-relations">Project Relations</a><ul><li><a href="#example-exposing-prisma-client-on-graphql-context-with-apollo-server">Example: Exposing Prisma Client on GraphQL Context with Apollo Server</a></li></ul></li><li><a href="#project-11-relation">Project 1:1 Relation</a><ul><li><a href="#example-tests">Example: Tests</a></li><li><a href="#example-full-11">Example: Full 1:1</a></li><li><a href="#limitation-nullable-on-without-relation-scalar-side">Limitation: Nullable on Without-Relation-Scalar Side</a></li></ul></li><li><a href="#project-1n-relation">Project 1:n Relation</a><ul><li><a href="#example-tests-1">Example: Tests</a></li><li><a href="#example-full-1n">Example: Full 1:n</a></li></ul></li><li><a href="#runtime-settings">Runtime Settings</a><ul><li><a href="#reference">Reference</a></li></ul></li><li><a href="#generator-settings">Generator Settings</a><ul><li><a href="#usage-1">Usage</a></li><li><a href="#reference-1">Reference</a></li></ul></li><li><a href="#prisma-string-id-fields-project-as-graphql-id-fields">Prisma String @id fields project as GraphQL ID fields</a></li><li><a href="#prisma-schema-docs-propagation">Prisma Schema Docs Propagation</a><ul><li><a href="#as-graphql-schema-doc">As GraphQL schema doc</a></li><li><a href="#as-jsdoc">As JSDoc</a></li></ul></li><li><a href="#refined-dx">Refined DX</a></li></ul></li><li><a href="#recipes">Recipes</a><ul><li><a href="#project-relation-with-custom-resolver-logic">Project relation with custom resolver logic</a></li><li><a href="#supply-custom-custom-scalars-to-your-graphql-schema">Supply custom custom scalars to your GraphQL schema</a></li></ul></li><li><a href="#notes">Notes</a><ul><li><a href="#for-users-of-nexus-prisma020">For users of <code>nexus-prisma@=&lt;0.20</code></a></li><li><a href="#for-users-of-prisma217">For users of <code>prisma@=&lt;2.17</code></a></li><li><a href="#for-users-of-nexus10">For users of <code>nexus@=&lt;1.0</code></a></li><li><a href="#supported-versions-of-node--prisma">Supported Versions Of Node &amp; Prisma</a></li></ul></li></ul><h2><span class="subheading-anchor" id="usage"></span><a href="#usage" class="text-current no-underline no-outline">Usage<span class="anchor-icon" aria-hidden="true">#</span></a></h2><ol><li><p>Install dependencies</p><pre><code>npm add nexus-prisma nexus graphql @prisma/client
npm add --dev prisma
</code></pre><blockquote><p><code>nexus</code> <code>graphql</code> and <code>@prisma/client</code> are peer dependencies. <code>prisma</code> is for the Prisma CLI which you&#x27;ll probably want during development.</p></blockquote><blockquote><p>If you use <code>nexus@=&lt;1.0</code> then you must use <code>t.field(&lt;NAME&gt;, &lt;CONFIG&gt;)</code> instead of <code>t.field(&lt;CONFIG&gt;)</code>. The Nexus Prisma docs assume the latter form.</p></blockquote></li><li><p>Add a <code>nexus-prisma</code> generator block to your Prisma Schema.</p><blockquote><p>If you are using <code>prisma@=&lt;2.17</code> then you must use the Nexus Prisma Prisma generator name of <code>nexus_prisma</code> instead of <code>nexus-prisma</code>. See <a href="#notes">notes</a> for more detail.</p></blockquote></li><li><p>Run <code>prisma generate</code> in your terminal.</p></li><li><p>Import models from <code>nexus-prisma</code> and then pass them to your Nexus type definition and field definition configurations. In this way you will be effectively projecting models from your data layer into GraphQL types in your API layer.</p></li></ol><h5><span class="subheading-anchor" id="example"></span><a href="#example" class="text-current no-underline no-outline">Example<span class="anchor-icon" aria-hidden="true">#</span></a></h5><pre><code class="prism-code language-prisma" style="background-color:transparent"><div class="token-line"><span class="token plain">generator client {</span></div><div class="token-line"><span class="token plain">  provider = &quot;prisma-client-js&quot;</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">generator nexusPrisma {</span></div><div class="token-line"><span class="token plain">   provider = &quot;nexus-prisma&quot;</span></div><div class="token-line"><span class="token plain">// provider = &quot;nexus_prisma&quot;    &lt;-- For prisma@=&lt;2.17 users</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">/// This is a user!</span></div><div class="token-line"><span class="token plain">model User {</span></div><div class="token-line"><span class="token plain">  /// This is an id!</span></div><div class="token-line"><span class="token plain">  id  String  @id</span></div><div class="token-line"><span class="token plain">}</span></div></code></pre><pre><code>prisma generate
</code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> makeSchema</span><span class="token imports punctuation">,</span><span class="token imports"> objectType </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">export</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">const</span><span class="token plain"> schema </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">makeSchema</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  types</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$description</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">     </span><span class="token comment" style="color:#999;font-style:italic">// t.field(User.id.name, User.id)    &lt;-- For nexus@=&lt;1.0 users</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><h2><span class="subheading-anchor" id="roadmap"></span><a href="#roadmap" class="text-current no-underline no-outline">Roadmap<span class="anchor-icon" aria-hidden="true">#</span></a></h2><h5><span class="subheading-anchor" id="done"></span><a href="#done" class="text-current no-underline no-outline">Done<span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/4">#4</a>) Support for Prisma Model field types that map to standard GraphQL scalars</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/8">#8</a>) Support for Prisma Model field types of <code>DateTime</code> &amp; <code>Json</code></li><li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/16">#16</a>) Support for Prisma enums</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/pull/25">#25</a>, <a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/36">#36</a>) Basic support for Prisma Model field types relating to other Models 1:1</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/pull/38">#38</a>) Basic support for Prisma Model field types relating to other Models 1:n</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/43">#43</a>) Support for runtime and gentime settings</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/61">#61</a>) JSDoc for settings/$settings</li><li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/68">#68</a>) Support for Prisma Model field type <code>Bytes</code></li></ul><h5><span class="subheading-anchor" id="shortterm"></span><a href="#shortterm" class="text-current no-underline no-outline">Shortterm<span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/59">#59</a>) Support for Prisma Model field type <code>BigInt</code></li><li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/94">#94</a>) Support for Prisma Model field type <code>Decimal</code></li><li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->Improved JSDoc for relation 1:1 &amp; 1:n fields</li></ul><h5><span class="subheading-anchor" id="midterm"></span><a href="#midterm" class="text-current no-underline no-outline">Midterm<span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->Support for Prisma Model field types relating to other Models n:n</li><li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->Support for relation field ordering parameters</li><li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->(<a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/83">#83</a>) Support for relation field filtering parameters</li><li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->Support for relation field pagination parameters</li></ul><h5><span class="subheading-anchor" id="longterm"></span><a href="#longterm" class="text-current no-underline no-outline">Longterm<span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->Nexus Plugin? <code>t.model</code>? <code>t.crud</code>?</li><li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->...</li></ul><h2><span class="subheading-anchor" id="architecture"></span><a href="#architecture" class="text-current no-underline no-outline">Architecture<span class="anchor-icon" aria-hidden="true">#</span></a></h2><p><img src="https://user-images.githubusercontent.com/284476/118728589-70fce780-b802-11eb-8c8b-4328ef5d6fb5.png" alt="nexus-prisma-architecture"/></p><ol><li>You or a script (CI, programmatic, etc.) run <code>$ prisma generate</code>.</li><li>Prisma generator system reads your Prisma schema file</li><li>Prisma generator system runs the Nexus Prisma generator passing it the &quot;DMMF&quot;, a structured representation of your Prisma schema.</li><li>Nexus Prisma generator reads your Nexus Prisma generator configuration if present.</li><li>Nexus Prisma generator writes generated source code into its own package space in your node_modules.</li><li>Later when you run your code it imports <code>nexus-prisma</code> which hits the generated entrypoint.</li><li>The generated runtime is actually thin, making use of a larger static runtime.</li></ol><h2><span class="subheading-anchor" id="features"></span><a href="#features" class="text-current no-underline no-outline">Features<span class="anchor-icon" aria-hidden="true">#</span></a></h2><blockquote><p><strong>Note</strong>: ⛑ The following use abbreviated examples that skip a complete setup of passing Nexus type definition to Nexus&#x27; <code>makeSchema</code>. If you are new to Nexus, consider reading the <a target="_blank" href="https://nxs.li/tutorial">official Nexus tutorial</a> before jumping into Nexus Prisma.</p></blockquote><h3><span class="subheading-anchor" id="type-safe-generated-library-code"></span><a href="#type-safe-generated-library-code" class="text-current no-underline no-outline">Type-safe Generated Library Code<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Following the same philosophy as Prisma Client, Nexus Prisma uses generation to create an API that feels tailor made for your project.</p><pre><code class="prism-code language-prisma" style="background-color:transparent"><div class="token-line"><span class="token plain">model User {</span></div><div class="token-line"><span class="token plain">  id  String  @id</span></div><div class="token-line"><span class="token plain">}</span></div></code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> objectType </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$description</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">.</span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">.</span><span class="token property-access">description</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><h3><span class="subheading-anchor" id="project-enums"></span><a href="#project-enums" class="text-current no-underline no-outline">Project Enums<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Every enum defined in your Prisma schema becomes importable as a Nexus enum type definition configuration. This makes it trivial to project enums from your database layer into your API layer.</p><pre><code class="prism-code language-prisma" style="background-color:transparent"><div class="token-line"><span class="token plain">enum SomeEnum {</span></div><div class="token-line"><span class="token plain">  foo</span></div><div class="token-line"><span class="token plain">  bar</span></div><div class="token-line"><span class="token plain">}</span></div></code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">SomeEnum</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> enumType </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">SomeEnum</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">//    &#x27;SomeEnum&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">SomeEnum</span><span class="token punctuation">.</span><span class="token property-access">members</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// [&#x27;foo&#x27;, &#x27;bar&#x27;]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">enumType</span><span class="token punctuation">(</span><span class="token maybe-class-name">SomeEnum</span><span class="token punctuation">)</span></div></code></pre><h3><span class="subheading-anchor" id="project-scalars"></span><a href="#project-scalars" class="text-current no-underline no-outline">Project Scalars<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Like GraphQL, <a target="_blank" href="https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference/#model-field-scalar-types">Prisma has the concept of scalar types</a>. Some of the Prisma scalars can be naturally mapped to standard GraphQL scalars. The mapping is as follows:</p><p><strong>Prisma Standard Scalar to GraphQL Standard Scalar Mapping</strong></p><div class="table-container"><table><thead><tr><th>Prisma</th><th>GraphQL</th></tr></thead><tbody><tr><td><code>Boolean</code></td><td><code>Boolean</code></td></tr><tr><td><code>String</code></td><td><code>String</code></td></tr><tr><td><code>Int</code></td><td><code>Int</code></td></tr><tr><td><code>Float</code></td><td><code>Float</code></td></tr><tr><td><code>String</code> with <code>@id</code></td><td><code>ID</code></td></tr><tr><td><code>Int</code> with <code>@id</code></td><td><code>ID</code> | <code>Int</code> (<a href="#projectidinttographql-id--int">configurable</a>)</td></tr></tbody></table></div><p>However some of the Prisma scalars do not have a natural standard representation in GraphQL. For these cases Nexus Prisma generates code that references type names matching those scalar names in Prisma. Then, you are expected to define those custom scalar types in your GraphQL API. Nexus Prisma ships with pre-defined mappings in <code>nexus-prisma/scalars</code> you <em>can</em> use for convenience. The mapping is as follows:</p><p><strong>Prisma Standard-Scalar to GraphQL Custom-Scalar Mapping</strong></p><div class="table-container"><table><thead><tr><th>Prisma</th><th>GraphQL</th><th>Nexus <code>t</code> Helper</th><th>GraphQL Scalar Implementation</th><th>Additional Info</th></tr></thead><tbody><tr><td><code>Json</code></td><td><code>Json</code></td><td><code>json</code></td><td><a target="_blank" href="https://www.graphql-scalars.dev/docs/scalars/jsonobject">JsonObject</a></td><td></td></tr><tr><td><code>DateTime</code></td><td><code>DateTime</code></td><td><code>dateTime</code></td><td><a target="_blank" href="https://www.graphql-scalars.dev/docs/scalars/datetime">DateTime</a></td><td></td></tr><tr><td><code>BigInt</code></td><td><code>BigInt</code></td><td><code>bigInt</code></td><td><a target="_blank" href="https://www.graphql-scalars.dev/docs/scalars/big-int">BigInt</a></td><td><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt">JavaScript BigInt</a></td></tr><tr><td><code>Bytes</code></td><td><code>Bytes</code></td><td><code>bytes</code></td><td><a target="_blank" href="https://www.graphql-scalars.dev/docs/scalars/byte/">Byte</a></td><td><a target="_blank" href="https://nodejs.org/api/buffer.html#buffer_buffer">Node.js Buffer</a></td></tr></tbody></table></div><blockquote><p><strong>Note:</strong> Not all Prisma scalar mappings are implemented yet: <code>Decimal</code>, <code>Unsupported</code></p></blockquote><blockquote><p><strong>Note:</strong> BigInt is supported in Node.js since version <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt#browser_compatibility">10.4.0</a> however to support BigInt in <code>JSON.parse</code>/<code>JSON.stringify</code> you must use <a target="_blank" href="https://github.com/ardatan/json-bigint-patch"><code>json-bigint-patch</code></a> otherwise BigInt values will be serialized as strings.</p></blockquote><p>You can use your own GraphQL Scalar Implementation, however, you <em>must adhear to the above Prisma/GraphQL name mapping defined above</em>.</p><p>Here is an example using Nexus Prisma&#x27;s pre-defined GraphQL custom scalars:</p><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">NexusPrismaScalars</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma/scalars&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> makeSchema </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">makeSchema</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  types</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token maybe-class-name">NexusPrismaScalars</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><p>There is a <a href="#Supply-custom-custom-scalars-to-your-GraphQL-schema">recipe below</a> showing how to add your own custom scalars if you want.</p><h3><span class="subheading-anchor" id="project-relations"></span><a href="#project-relations" class="text-current no-underline no-outline">Project Relations<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>You can project <a target="_blank" href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations">relations</a> into your API with Nexus Prisma. Nexus Prisma even includes the resolver you&#x27;ll need at runtime to fulfill the projection by automating use of your Prisma Client instance.</p><p>Please note that not all kinds of relationships are supported yet. Details about projecting each kind of relation are documented in their respective sections. This section only contains general documentation common to all.</p><p>To project relations you must by default expose an instance of Prisma Client on the GraphQL context under the key name <code>prisma</code>. You can <a href="#prismaclientcontextfield-string">customize which context property Nexus Prisma should look for your Prisma Client</a>.</p><h4><span class="subheading-anchor" id="example-exposing-prisma-client-on-graphql-context-with-apollo-server"></span><a href="#example-exposing-prisma-client-on-graphql-context-with-apollo-server" class="text-current no-underline no-outline">Example: Exposing Prisma Client on GraphQL Context with Apollo Server<span class="anchor-icon" aria-hidden="true">#</span></a></h4><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ApolloServer</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;apollo-server&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">PrismaClient</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;@prisma/client&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports">schema</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;./your/schema/somewhere&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">const</span><span class="token plain"> prisma </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">PrismaClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ApolloServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  schema</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword" style="color:#ff0078;font-weight:bold">return</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      prisma</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><h3><span class="subheading-anchor" id="project-11-relation"></span><a href="#project-11-relation" class="text-current no-underline no-outline">Project 1:1 Relation<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>You can project <a target="_blank" href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations#one-to-one-relations">1:1 relationships</a> into your API.</p><h4><span class="subheading-anchor" id="example-tests"></span><a href="#example-tests" class="text-current no-underline no-outline">Example: Tests<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>The integration test suite is a useful reference as it is declarative (easy to read) and gives a known-working example spanning from database all the way to executed GraphQL document.</p><ul><li><a target="_blank" href="https://github.com/prisma/nexus-prisma/blob/main/tests/integration/relation1To1.test.ts">Tests</a></li><li><a target="_blank" href="https://github.com/prisma/nexus-prisma/blob/main/tests/integration/__snapshots__/relation1To1.test.ts.snap">Snapshots</a></li></ul><h4><span class="subheading-anchor" id="example-full-11"></span><a href="#example-full-11" class="text-current no-underline no-outline">Example: Full 1:1<span class="anchor-icon" aria-hidden="true">#</span></a></h4><pre><code class="prism-code language-prisma" style="background-color:transparent"><div class="token-line"><span class="token plain">// Database Schema</span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">model User {</span></div><div class="token-line"><span class="token plain">  id         String  @id</span></div><div class="token-line"><span class="token plain">  profile    Profile @relation(fields: [profileId], references: [id])</span></div><div class="token-line"><span class="token plain">  profileId  String</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">model Profile {</span></div><div class="token-line"><span class="token plain">  id      String  @id</span></div><div class="token-line"><span class="token plain">  user    User?</span></div><div class="token-line"><span class="token plain">}</span></div></code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic">// API Schema</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports punctuation">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Profile</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">queryType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token property-access">nonNull</span><span class="token punctuation">.</span><span class="token property-access">list</span><span class="token punctuation">.</span><span class="token property-access">nonNull</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token string">&#x27;users&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;User&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token plain">_</span><span class="token punctuation">,</span><span class="token plain"> __</span><span class="token punctuation">,</span><span class="token plain"> ctx</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword" style="color:#ff0078;font-weight:bold">return</span><span class="token plain"> ctx</span><span class="token punctuation">.</span><span class="token property-access">prisma</span><span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token method function property-access">findMany</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">profile</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Profile</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">Profile</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><pre><code class="prism-code language-graphql" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic"># API Schema Represented in GraphQL SDL (this is generated by Nexus)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">users</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">User</span><span class="token operator">!</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">id</span><span class="token punctuation">:</span><span class="token plain"> ID</span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">profile</span><span class="token punctuation">:</span><span class="token plain"> Profile</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">Profile</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">id</span><span class="token punctuation">:</span><span class="token plain"> ID</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic">// Example Database Data (for following example)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">await</span><span class="token plain"> prisma</span><span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;user1&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    profile</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      create</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;profile1&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><pre><code class="prism-code language-graphql" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic"># Example API Client Query</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">query</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  users </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    id</span></div><div class="token-line"><span class="token plain">    profile </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      id</span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><pre><code class="prism-code language-json" style="background-color:transparent"><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token property">&quot;users&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;user1&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;profile1&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><h4><span class="subheading-anchor" id="limitation-nullable-on-without-relation-scalar-side"></span><a href="#limitation-nullable-on-without-relation-scalar-side" class="text-current no-underline no-outline">Limitation: Nullable on Without-Relation-Scalar Side<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>Prisma requires that a 1:1 relationship has one side that is optional. For example in the following it is <strong>not</strong> possible for <code>Profile</code> to have a required relationship to <code>User</code>. For more detail you can read the Prisma docs about this <a target="_blank" href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations#one-to-one-relations">here</a>.</p><pre><code class="prism-code language-prisma" style="background-color:transparent"><div class="token-line"><span class="token plain">model User {</span></div><div class="token-line"><span class="token plain">  id         String  @id</span></div><div class="token-line"><span class="token plain">  profile    Profile @relation(fields: [profileId], references: [id])</span></div><div class="token-line"><span class="token plain">  profileId  String</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">model Profile {</span></div><div class="token-line"><span class="token plain">  id      String  @id</span></div><div class="token-line"><span class="token plain">  user    User?  // &lt;--  &quot;?&quot; required</span></div><div class="token-line"><span class="token plain">}</span></div></code></pre><p>Prisma inherits this limitation from databases. In turn Nexus Prisma inherits this limitation from Prisma. For example consider this projection and then look at the resulting GraphQL SDL representation.</p><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports punctuation">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Profile</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">profile</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Profile</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">Profile</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">profile</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><pre><code class="prism-code language-graphql" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">id</span><span class="token punctuation">:</span><span class="token plain"> ID</span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">profile</span><span class="token punctuation">:</span><span class="token plain"> Profile</span><span class="token operator">!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">Profile</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">id</span><span class="token punctuation">:</span><span class="token plain"> ID</span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">user</span><span class="token punctuation">:</span><span class="token plain"> User </span><span class="token comment" style="color:#999;font-style:italic"># &lt;-- Nullable!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><p>This limitation may be a problem for your API. There is an <a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/34">issue track this that you can subscribe to</a> if interested. As a workaround for now you can do this:</p><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Profile</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">Profile</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token spread operator">...</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">profile</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token function">nonNull</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">profile</span><span class="token punctuation">.</span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><h3><span class="subheading-anchor" id="project-1n-relation"></span><a href="#project-1n-relation" class="text-current no-underline no-outline">Project 1:n Relation<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>You can project <a target="_blank" href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations#one-to-many-relations">1:n relationships</a> into your API.</p><h4><span class="subheading-anchor" id="example-tests-1"></span><a href="#example-tests-1" class="text-current no-underline no-outline">Example: Tests<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>The integration test suite is a useful reference as it is declarative (easy to read) and gives a known-working example spanning from database all the way to executed GraphQL document.</p><ul><li><a target="_blank" href="https://github.com/prisma/nexus-prisma/blob/main/tests/integration/relation1ToN.test.ts">Tests</a></li><li><a target="_blank" href="https://github.com/prisma/nexus-prisma/blob/main/tests/integration/__snapshots__/relation1ToN.test.ts.snap">Snapshots</a></li></ul><h4><span class="subheading-anchor" id="example-full-1n"></span><a href="#example-full-1n" class="text-current no-underline no-outline">Example: Full 1:n<span class="anchor-icon" aria-hidden="true">#</span></a></h4><pre><code class="prism-code language-prisma" style="background-color:transparent"><div class="token-line"><span class="token plain">// Database Schema</span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">model User {</span></div><div class="token-line"><span class="token plain">  id         String    @id</span></div><div class="token-line"><span class="token plain">  posts      Post[]</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">model Post {</span></div><div class="token-line"><span class="token plain">  id        String  @id</span></div><div class="token-line"><span class="token plain">  author    User?   @relation(fields: [authorId], references: [id])</span></div><div class="token-line"><span class="token plain">  authorId  String</span></div><div class="token-line"><span class="token plain">}</span></div></code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic">// API Schema</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports punctuation">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Post</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">queryType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token property-access">nonNull</span><span class="token punctuation">.</span><span class="token property-access">list</span><span class="token punctuation">.</span><span class="token property-access">nonNull</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token string">&#x27;users&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;User&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token plain">_</span><span class="token punctuation">,</span><span class="token plain"> __</span><span class="token punctuation">,</span><span class="token plain"> ctx</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword" style="color:#ff0078;font-weight:bold">return</span><span class="token plain"> ctx</span><span class="token punctuation">.</span><span class="token property-access">prisma</span><span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token method function property-access">findMany</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">posts</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Post</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">Post</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><pre><code class="prism-code language-graphql" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic"># API Schema Represented in GraphQL SDL (this is generated by Nexus)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">users</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">User</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">id</span><span class="token punctuation">:</span><span class="token plain"> ID</span><span class="token operator">!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">posts</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">Post</span><span class="token operator">!</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">Post</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">id</span><span class="token punctuation">:</span><span class="token plain"> ID</span><span class="token operator">!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic">// Example Database Data (for following example)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">await</span><span class="token plain"> prisma</span><span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  data</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;user1&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    posts</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      create</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token plain"> id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;post1&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;post2&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><pre><code class="prism-code language-graphql" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic"># Example API Client Query</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">query</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  users </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    id</span></div><div class="token-line"><span class="token plain">    posts </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      id</span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><pre><code class="prism-code language-json" style="background-color:transparent"><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token property">&quot;users&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;user1&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token property">&quot;posts&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;post1&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;post2&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><h3><span class="subheading-anchor" id="runtime-settings"></span><a href="#runtime-settings" class="text-current no-underline no-outline">Runtime Settings<span class="anchor-icon" aria-hidden="true">#</span></a></h3><h4><span class="subheading-anchor" id="reference"></span><a href="#reference" class="text-current no-underline no-outline">Reference<span class="anchor-icon" aria-hidden="true">#</span></a></h4><h5><span class="subheading-anchor" id="prismaclientcontextfield-string"></span><a href="#prismaclientcontextfield-string" class="text-current no-underline no-outline"><code>prismaClientContextField: string</code><span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul><li><p><strong>@summary</strong> The name of the GraphQL context field to get an instance of Prisma Client from.</p></li><li><p><strong>@remarks</strong> The instance of Prisma Client found here is accessed in the default resolvers for relational fields.</p></li><li><p><strong>@default</strong> <code>&quot;prisma&quot;</code></p></li><li><p><strong>@example</strong></p><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic">// src/main.ts</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">PrismaClient</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;@prisma/client&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ApolloServer</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;apollo-server&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> makeSchema </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports punctuation">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Post</span><span class="token imports punctuation">,</span><span class="token imports"> $settings </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ApolloServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  schema</span><span class="token operator">:</span><span class="token plain"> </span><span class="token function">makeSchema</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    types</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword" style="color:#ff0078;font-weight:bold">return</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      db</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">PrismaClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// &lt;-- You put Prisma client on the &quot;db&quot; context property</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">$settings</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  prismaClientContextField</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;db&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// &lt;-- Tell Nexus Prisma</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre></li></ul><h5><span class="subheading-anchor" id="prismaclientimportid-string"></span><a href="#prismaclientimportid-string" class="text-current no-underline no-outline"><code>prismaClientImportId: string</code><span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul><li><p><strong>@summary</strong> Where Nexus Prisma will try to import your generated Prisma Client from. You should not need to configure this normally because Nexus Prisma generator automatically reads the Prisma Client generator <code>output</code> setting if you have set it. The value here will be used in a dynamic import thus following Node&#x27;s path resolution rules. You can pass a node_modules package like <code>foo</code> <code>@prisma/client</code>, <code>@my/custom/thing</code> etc. or you can pass an absolute module/file path <code>/my/custom/thing</code> / <code>/my/custom/thing/index.js</code> or finally a relative path to be resolved relative to the location of Nexus Prisma source files (you probably don&#x27;t want this).</p></li><li><p><strong>@default</strong> <code>@prisma/client</code></p></li><li><p><strong>@remarks</strong> Nexus Prisma imports Prisma client internally for two reasons: 1) validation wherein a class reference to Prisma Client is needed for some <code>instanceof</code> checks and 2) for acquiring the DMMF as Nexus Prisma relies on some post-processing done by Prisma Client generator.</p></li><li><p><strong>@example</strong></p><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token comment" style="color:#999;font-style:italic">// src/main.ts</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">PrismaClient</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;@prisma/client&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ApolloServer</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;apollo-server&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> makeSchema </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports punctuation">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Post</span><span class="token imports punctuation">,</span><span class="token imports"> $settings </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">ApolloServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  schema</span><span class="token operator">:</span><span class="token plain"> </span><span class="token function">makeSchema</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    types</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">$settings</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  prismaClientImportId</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;@my/custom/thing&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre></li></ul><h3><span class="subheading-anchor" id="generator-settings"></span><a href="#generator-settings" class="text-current no-underline no-outline">Generator Settings<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>You are able to control certain aspects of the Nexus Prisma code generation.</p><h4><span class="subheading-anchor" id="usage-1"></span><a href="#usage-1" class="text-current no-underline no-outline">Usage<span class="anchor-icon" aria-hidden="true">#</span></a></h4><ol><li><p>Create a configuration file named any of:</p><pre><code>nexusPrisma.ts  /  nexus-prisma.ts  /  nexus_prisma.ts
</code></pre><p>In one of the following directories:</p><ol><li><p><strong>Project Root</strong> – The directory containing your project&#x27;s package.json. Example:</p><pre><code>  ├── nexus-prisma.ts
  └── package.json
</code></pre></li><li><p><strong>Primsa Directory</strong> – The directory containing your Prisma schema. Example:</p><pre><code>  ├── prisma/nexus-prisma.ts
  └── package.json
</code></pre></li></ol></li><li><p>Import the settings singleton and make your desired changes. Example:</p><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> settings </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma/generator&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">settings</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  projectIdIntToGraphQL</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;ID&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre></li></ol><h4><span class="subheading-anchor" id="reference-1"></span><a href="#reference-1" class="text-current no-underline no-outline">Reference<span class="anchor-icon" aria-hidden="true">#</span></a></h4><h5><span class="subheading-anchor" id="projectidinttographql-id--int"></span><a href="#projectidinttographql-id--int" class="text-current no-underline no-outline"><code>projectIdIntToGraphQL: &#x27;ID&#x27; | &#x27;Int&#x27;</code><span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul><li><strong><code>@summary</code></strong> Map Prisma model fields of type <code>Int</code> with attribute <code>@id</code> to <code>ID</code> or <code>Int</code>.</li><li><strong><code>@default</code></strong> <code>Int</code></li></ul><h5><span class="subheading-anchor" id="docpropagationjsdoc-boolean"></span><a href="#docpropagationjsdoc-boolean" class="text-current no-underline no-outline"><code>docPropagation.JSDoc: boolean</code><span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul><li><strong><code>@summary</code></strong> Should Prisma Schema docs propagate as JSDoc?</li><li><strong><code>@default</code></strong> <code>true</code></li></ul><h5><span class="subheading-anchor" id="docpropagationgraphqldocs-boolean"></span><a href="#docpropagationgraphqldocs-boolean" class="text-current no-underline no-outline"><code>docPropagation.GraphQLDocs: boolean</code><span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul><li><strong><code>@summary</code></strong> Should Prisma Schema docs propagate as GraphQL docs?</li><li><strong><code>@remarks</code></strong> When this is disabled it will force <code>.description</code> property to be <code>undefined</code>. This is for convenience, allowing you to avoid post-generation data manipulation or consumption contortions.</li><li><strong><code>@default</code></strong> <code>true</code></li></ul><h3><span class="subheading-anchor" id="prisma-string-id-fields-project-as-graphql-id-fields"></span><a href="#prisma-string-id-fields-project-as-graphql-id-fields" class="text-current no-underline no-outline">Prisma String @id fields project as GraphQL ID fields<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>All <code>String</code> fields with <code>@id</code> attribute in your Prisma Schema get projected as GraphQL <code>ID</code> types rather than <code>String</code> types.</p><pre><code class="prism-code language-prisma" style="background-color:transparent"><div class="token-line"><span class="token plain">model User {</span></div><div class="token-line"><span class="token plain">  id  String  @id</span></div><div class="token-line"><span class="token plain">}</span></div></code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> objectType </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$description</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><pre><code class="prism-code language-graphql" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">id</span><span class="token punctuation">:</span><span class="token plain"> ID</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><h3><span class="subheading-anchor" id="prisma-schema-docs-propagation"></span><a href="#prisma-schema-docs-propagation" class="text-current no-underline no-outline">Prisma Schema Docs Propagation<span class="anchor-icon" aria-hidden="true">#</span></a></h3><h4><span class="subheading-anchor" id="as-graphql-schema-doc"></span><a href="#as-graphql-schema-doc" class="text-current no-underline no-outline">As GraphQL schema doc<span class="anchor-icon" aria-hidden="true">#</span></a></h4><pre><code class="prism-code language-prisma" style="background-color:transparent"><div class="token-line"><span class="token plain">/// A user.</span></div><div class="token-line"><span class="token plain">model User {</span></div><div class="token-line"><span class="token plain">  /// A stable identifier to find users by.</span></div><div class="token-line"><span class="token plain">  id  String  @id</span></div><div class="token-line"><span class="token plain">}</span></div></code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> objectType </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$description</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// JSDoc: A user.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">.</span><span class="token property-access">description</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// JSDoc: A stable identifier to find users by.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$description</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><pre><code class="prism-code language-graphql" style="background-color:transparent"><div class="token-line"><span class="token description string">&quot;&quot;&quot;</span><span class="token description string language-markdown"></span></div><div class="token-line"><span class="token description string language-markdown">A user.</span></div><div class="token-line"><span class="token description string language-markdown"></span><span class="token description string">&quot;&quot;&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">type</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token description string">&quot;&quot;&quot;</span><span class="token description string language-markdown"></span></div><div class="token-line"><span class="token description string language-markdown">  A stable identifier to find users by.</span></div><div class="token-line"><span class="token description string language-markdown">  </span><span class="token description string">&quot;&quot;&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token attr-name" style="color:#d9931e;font-style:normal">id</span><span class="token punctuation">:</span><span class="token plain"> ID</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></code></pre><h4><span class="subheading-anchor" id="as-jsdoc"></span><a href="#as-jsdoc" class="text-current no-underline no-outline">As JSDoc<span class="anchor-icon" aria-hidden="true">#</span></a></h4><p>Can be disabled in <a target="_blank" href="https://pris.ly/nexus-prisma/docs/settings/gentime">gentime settings</a>.</p><pre><code class="prism-code language-prisma" style="background-color:transparent"><div class="token-line"><span class="token plain">/// A user.</span></div><div class="token-line"><span class="token plain">model User {</span></div><div class="token-line"><span class="token plain">  /// A stable identifier to find users by.</span></div><div class="token-line"><span class="token plain">  id  String  @id</span></div><div class="token-line"><span class="token plain">}</span></div></code></pre><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">User</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus-prisma&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">User</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// JSDoc: A user.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token comment" style="color:#999;font-style:italic">// JSDoc: A stable identifier to find users by.</span></div></code></pre><h3><span class="subheading-anchor" id="refined-dx"></span><a href="#refined-dx" class="text-current no-underline no-outline">Refined DX<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>These are finer points that aren&#x27;t perhaps worth a top-level point but none the less add up toward a thoughtful developer experience.</p><h5><span class="subheading-anchor" id="jsdoc"></span><a href="#jsdoc" class="text-current no-underline no-outline">JSDoc<span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul><li>Generated Nexus configuration for fields and models that you <em>have not</em> documented in your PSL get default JSDoc that teaches you how to do so.</li><li>JSDoc for Enums have their members embedded</li></ul><h5><span class="subheading-anchor" id="default-runtime"></span><a href="#default-runtime" class="text-current no-underline no-outline">Default Runtime<span class="anchor-icon" aria-hidden="true">#</span></a></h5><p>When your project is in a state where the generated Nexus Prisma part is missing (new repo clone, reinstalled deps, etc.) Nexus Prisma gives you a default runtime export named <code>PleaseRunPrismaGenerate</code> and will error with a clear message.</p><h5><span class="subheading-anchor" id="peer-dependency-validation"></span><a href="#peer-dependency-validation" class="text-current no-underline no-outline">Peer-Dependency Validation<span class="anchor-icon" aria-hidden="true">#</span></a></h5><p>When <code>nexus-prisma</code> is imported it will validate that your project has peer dependencies setup correctly.</p><p>If a peer dependency is not installed it <code>nexus-prisma</code> will log an error and then exit 1. If its version does not satify the range supported by the current version of <code>nexus-prisma</code> that you have installed, then a warning will be logged. If you want to opt-out of this validation then set an envar as follows:</p><pre><code>NO_PEER_DEPENDENCY_CHECK=true|1
PEER_DEPENDENCY_CHECK=false|0
</code></pre><h5><span class="subheading-anchor" id="auto-import-optimized"></span><a href="#auto-import-optimized" class="text-current no-underline no-outline">Auto-Import Optimized<span class="anchor-icon" aria-hidden="true">#</span></a></h5><ul><li><code>nexus-prisma/scalars</code> offers a default export you can easily auto-import by name: <code>NexusPrismaScalars</code>.</li></ul><h2><span class="subheading-anchor" id="recipes"></span><a href="#recipes" class="text-current no-underline no-outline">Recipes<span class="anchor-icon" aria-hidden="true">#</span></a></h2><h3><span class="subheading-anchor" id="project-relation-with-custom-resolver-logic"></span><a href="#project-relation-with-custom-resolver-logic" class="text-current no-underline no-outline">Project relation with custom resolver logic<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Nexus Prisma generates default GraphQL resolvers for your model <em>relation fields</em>. However you may want to run custom logic in the resolver. This is easy to do. The following show a few ways.</p><ol><li><p><strong>Wrap Style</strong> You can access the default resolver within your own custom resolver.</p><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token spread operator">...</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">posts</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword" style="color:#ff0078;font-weight:bold">async</span><span class="token plain"> </span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token comment" style="color:#999;font-style:italic">// Your custom before-logic here</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword" style="color:#ff0078;font-weight:bold">const</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">await</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">posts</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token comment" style="color:#999;font-style:italic">// Your custom after-logic here</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword" style="color:#ff0078;font-weight:bold">return</span><span class="token plain"> result</span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre></li><li><p><strong>Replace Style</strong> You can simply opt out of using the default resolver completely:</p><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token function">objectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">$name</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">definition</span><span class="token punctuation">(</span><span class="token plain">t</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    t</span><span class="token punctuation">.</span><span class="token method function property-access">field</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token spread operator">...</span><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">posts</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword" style="color:#ff0078;font-weight:bold">async</span><span class="token plain"> </span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token comment" style="color:#999;font-style:italic">// Your custom logic here</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre></li></ol><h3><span class="subheading-anchor" id="supply-custom-custom-scalars-to-your-graphql-schema"></span><a href="#supply-custom-custom-scalars-to-your-graphql-schema" class="text-current no-underline no-outline">Supply custom custom scalars to your GraphQL schema<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>The following is a brief example how you could add your own custom GraphQL custom scalars to satisfy Nexus Prisma. Note that most of the time using the defaults exported by <code>nexus-prisma/scalars</code> will probably be good enough for you.</p><pre><code class="prism-code language-ts" style="background-color:transparent"><div class="token-line"><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">GraphQLScalarType</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;graphql&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">JSONObjectResolver</span><span class="token imports punctuation">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">DateTimeResolver</span><span class="token imports"> </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;graphql-scalars&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> asNexusMethod</span><span class="token imports punctuation">,</span><span class="token imports"> makeSchema </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">from</span><span class="token plain"> </span><span class="token string">&#x27;nexus&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">const</span><span class="token plain"> jsonScalar </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">GraphQLScalarType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token spread operator">...</span><span class="token maybe-class-name">JSONObjectResolver</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment" style="color:#999;font-style:italic">// Override the default &#x27;JsonObject&#x27; name with one that matches what Nexus Prisma expects.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;Json&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:#ff0078;font-weight:bold">const</span><span class="token plain"> dateTimeScalar </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff0078;font-weight:bold">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">GraphQLScalarType</span><span class="token punctuation">(</span><span class="token maybe-class-name">DateTimeResolver</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">makeSchema</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  types</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token function">asNexusMethod</span><span class="token punctuation">(</span><span class="token plain">jsonScalar</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;json&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token function">asNexusMethod</span><span class="token punctuation">(</span><span class="token plain">dateTimeScalar</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;dateTime&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre><h2><span class="subheading-anchor" id="notes"></span><a href="#notes" class="text-current no-underline no-outline">Notes<span class="anchor-icon" aria-hidden="true">#</span></a></h2><h3><span class="subheading-anchor" id="for-users-of-nexus-prisma020"></span><a href="#for-users-of-nexus-prisma020" class="text-current no-underline no-outline">For users of <code>nexus-prisma@=&lt;0.20</code><span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>Versions of <code>nexus-prisma</code> package prior to <code>0.20</code> were a completely different version of the API, and had also become deprecated at one point to migrate to <code>nexus-plugin-prisma</code> when Nexus Framework was being worked on. All of that is history.</p><h3><span class="subheading-anchor" id="for-users-of-prisma217"></span><a href="#for-users-of-prisma217" class="text-current no-underline no-outline">For users of <code>prisma@=&lt;2.17</code><span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>If you are using <code>prisma@=&lt;2.17</code> then you must use the Nexus Prisma Prisma generator name of <code>nexus_prisma</code> instead of <code>nexus-prisma</code>. This is because prior to <code>prisma@2.18</code> there was a hardcode check for <code>nexus-prisma</code> that would fail with an error message about a now-old migration.</p><h3><span class="subheading-anchor" id="for-users-of-nexus10"></span><a href="#for-users-of-nexus10" class="text-current no-underline no-outline">For users of <code>nexus@=&lt;1.0</code><span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>The <a target="_blank" href="https://github.com/graphql-nexus/nexus/releases/tag/1.0.0">release of Nexus 1.1</a> introduced an overload to <code>t.field</code> allowing improved usage of Nexus Prisma. The difference is as follows. Note if you prefer the older way that is and always will be supported too.</p><pre><code class="prism-code language-diff" style="background-color:transparent"><div class="token-line"><span class="token plain">import { User } from &#x27;nexus-prisma&#x27;</span></div><div class="token-line"><span class="token plain">import { makeSchema, objectType } from &#x27;nexus&#x27;</span></div><div class="token-line"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line"><span class="token plain">export const schema = makeSchema({</span></div><div class="token-line"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> types: [</span></div><div class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   objectType({</span></div><div class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     name: User.$name</span></div><div class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     description: User.$description</span></div><div class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     definition(t) {</span></div><div class="token-line"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">        t.field(User.id) //                 &lt;-- for nexus@&gt;=1.1 users</span></div><div class="token-line"><span class="token inserted-sign inserted line"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">        t.field(User.id.name, User.id) //   &lt;-- For nexus@=&lt;1.0 users</span></div><div class="token-line"><span class="token deleted-sign deleted line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     }</span></div><div class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   })</span></div><div class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ]</span></div><div class="token-line"><span class="token unchanged line"></span><span class="token plain">})</span></div></code></pre><h3><span class="subheading-anchor" id="supported-versions-of-node--prisma"></span><a href="#supported-versions-of-node--prisma" class="text-current no-underline no-outline">Supported Versions Of Node &amp; Prisma<span class="anchor-icon" aria-hidden="true">#</span></a></h3><p>We only officially support what we test.</p><p>We test Node versions that are <code>Active LTS</code> and <code>Current</code>. For which versions of Node that equals you can refer to our tests or look here: <a target="_blank" href="https://nodejs.org/en/about/releases">https://nodejs.org/en/about/releases</a>.</p><p>We test Prisma versions <code>2.25</code>. More Prisma versions are planned to be tested, refer to <a target="_blank" href="https://github.com/prisma/nexus-prisma/issues/69">#69</a>.</p><p>We do not currently maintain a historical matrix of what past versions of Prisma supported what vesrions of Prisma and Node.</p><footer class="mt-24"><nav class="flex flex-row items-center justify-between"><div></div><div></div></nav><hr/><div class="mt-24 flex justify-between flex-col-reverse md:flex-row items-center md:items-end"><span class="text-gray-600">MIT 2021 © Shu Ding.</span><div class="mt-6"></div><a class="text-sm" href="https://github.com/shuding/nextra/tree/master/pages/index.md" target="_blank">Edit this page on GitHub</a></div></footer></main></article></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/","query":{},"buildId":"7Zl3XOnegAo48TG9wz6ls","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>